<!DOCTYPE html>
<html lang="lv">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Vecās drukas pārveide</title>

    <!-- <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" /> -->
    <script type='module' src='https://pyscript.net/releases/2024.1.3/core.js'></script>

    <script src='https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js'></script>
    <link rel="stylesheet" href="./resources/css/main.css">
  </head>
  <body>
    <h1>vecās ortogrāfijas pārveide mūsdienu ortogrāfijā</h1>
    <main>
      <div class="conatiner">
        <button onclick="clearAll()" id="delete_btn">╳</button>
        <canvas id="img_canvas"></canvas>
        <div id="btn_div">
          <!-- Dropdown button -->
          <div id="options_btn">
            <div class="overlay" onclick="unhideDropdown()"></div>
            <svg alt="options" viewBox="0 0 512 512" width="80%" height="80%" xmlns="http://www.w3.org/2000/svg">
              <line x1="368" y1="128" x2="448" y2="128" style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"/><line x1="64" y1="128" x2="304" y2="128" style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"/><line x1="368" y1="384" x2="448" y2="384" style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"/><line x1="64" y1="384" x2="304" y2="384" style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"/><line x1="208" y1="256" x2="448" y2="256" style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"/><line x1="64" y1="256" x2="144" y2="256" style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"/><circle cx="336" cy="128" r="32" style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"/><circle cx="176" cy="256" r="32" style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"/><circle cx="336" cy="384" r="32" style="fill:none;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"/>
            </svg>
          </div>
          <!-- Dropdown -->
          <div id="dropdown" style="display: none;">
            <button onclick="checkUncheck('ee')"><span id="check_ee" style="text-shadow: none !important;">☐ </span> Pārveidot tikai "ee" → "ie"</button>
            <button onclick="checkUncheck('r')"><span id="check_r" style="text-shadow: none !important;">☒ </span> Pārveidot "ŗ" → "r"</button>
          </div>
          
          <input type="button" id="img_btn" value="Atpazīt attēlu" onclick="document.getElementById('img_input_btn').click();"/>
          <input type="file" style="display:none;" id="img_input_btn" name="file" required accept=".bmp, .jpg, .png, .pbm, .webp"/>
        </div>
        <textarea id="input" autofocus spellcheck="false"></textarea>
        <div id="character_buttons">
          <button onclick="addCharacter('ẜ')">ẜ</button>
          <button onclick="addCharacter('ſ')">ſ</button>
          <button onclick="addCharacter('â')">â</button>
          <button onclick="addCharacter('à')">à</button>
          <button onclick="addCharacter('ê')">ê</button>
          <div class="br-flex"></div>
          <button onclick="addCharacter('è')">è</button>
          <button onclick="addCharacter('î')">î</button>
          <button onclick="addCharacter('ì')">ì</button>
          <button onclick="addCharacter('ô')">ô</button>
          <button onclick="addCharacter('û')">û</button>
        </div>
      </div>
        
      <div class="conatiner">
        <div id="loading"><em>Attēls tiek atpazīts</em><span id="loader_wheel"></span></div>
        <textarea id="output" spellcheck="false"></textarea>
      </div>
    </main>

    <py-config>
      packages = ["LatvianStemmer"]
      [[fetch]]
      files = [
      "./resources/py/lang_resources/letter_conversion.py",
      "./resources/py/lang_resources/old_w_dictionary.py",
      "./resources/py/lang_resources/vcc_wordlist.py",
      "./resources/py/lang_resources/verbs.py",
      "./resources/py/lang_resources/w_prefixs_endings.py",
      ]
    </py-config>
    <script type="py" src="./resources/py/old_writing_to_new.py"></script>
    <script src="./resources/js/main.js"></script>
  </body>
</html>